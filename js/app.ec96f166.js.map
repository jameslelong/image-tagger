{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/editor-canvas/editor-canvas.vue?8d8f","webpack:///./src/components/image-upload/image-upload.vue?121d","webpack:///./src/views/home/home.vue?ad93","webpack:///./src/components/carousel/carousel.vue?8bea","webpack:///./src/views/home/home.vue?072c","webpack:///./src/components/carousel/carousel.vue?07b1","webpack:///./src/types/image.ts","webpack:///./src/components/carousel/carousel.ts","webpack:///./src/components/carousel/carousel.ts?ca36","webpack:///./src/components/carousel/carousel.vue","webpack:///./src/components/settings-column/settings-column.vue?dd6f","webpack:///./src/services/json-handler.ts","webpack:///./src/types/tag.ts","webpack:///./src/components/settings-column/settings-column.ts","webpack:///./src/types/selection.ts","webpack:///./src/components/settings-column/settings-column.ts?17ed","webpack:///./src/components/settings-column/settings-column.vue","webpack:///./src/components/editor-canvas/editor-canvas.vue?1b78","webpack:///./src/types/vector2.ts","webpack:///./src/components/editor-canvas/editor-canvas.ts","webpack:///./src/components/editor-canvas/editor-canvas.ts?245b","webpack:///./src/components/editor-canvas/editor-canvas.vue","webpack:///./src/components/image-upload/image-upload.vue?9892","webpack:///./src/components/image-upload/image-upload.ts","webpack:///./src/components/image-upload/image-upload.ts?7bf3","webpack:///./src/components/image-upload/image-upload.vue","webpack:///./src/views/home/home.ts","webpack:///./src/views/home/home.ts?4dde","webpack:///./src/views/home/home.vue","webpack:///./src/main.ts","webpack:///./src/components/settings-column/settings-column.vue?10e2"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","images","selectedImage","on","selectImage","selectedTag","createImage","tags","selectTag","_m","staticRenderFns","_v","staticClass","$event","prev","ref","_l","image","id","class","selected","encodedImage","deleteImage","group","linkedTag","_s","next","tag","selections","Array","selectionGroup","imageWidth","carouselOffset","carousel","$refs","$emit","imageToDelete","imageDeleteIndex","findIndex","style","left","carouselParent","parentElement","carouselInnerWidth","clientWidth","carouselParentWidth","component","preventDefault","createTag","directives","rawName","expression","domProps","target","composing","tagNameInput","active","isBranchEnabled","toggleBranch","$set","deleteTag","selectionsOfTag","selection","highlightSelection","a","x","y","deleteSelection","download","output","forEach","imageOutput","file","regions","topLeft","findTopLeft","rectangle","h","absHeight","w","absWidth","generateDownload","JSON","stringify","element","document","createElement","display","setAttribute","encodeURIComponent","body","appendChild","click","remove","jsonHandler","tagUID","activeBranches","find","toLowerCase","tagToSelect","tagToDelete","tagDeleteIndex","groupDeleteIndex","relatedTag","selectionToDelete","relatedGroupIndex","relatedGroup","selectionDeleteIndex","foundIndex","indexOf","includes","foundGroup","isHighlighted","SelectionPoint","staticZoom","pos","_a","_b","_d","arr","b","sort","sp","Math","abs","OFFSET_VALUE","selectionUID","scale","imageOffsetValue","activePoints","isMouseDown","isPanEnabled","editorCanvas","editorContext","getContext","resizeCanvas","requestAnimationFrame","animationStep","addEventListener","event","buttons","enablePan","mouseDown","mouseUp","disablePan","mouseMove","mouseWheel","endSelection","activeSelection","cursor","canvasImage","Image","src","onload","scaleImage","centreImage","clearCanvas","e","mousePos","getRelativeMousePos","val","deltaY","previousScale","min","max","InsetPos","offsetScaleDifference","zoomIn","newScale","scaledMousePos","round","selectionCheck","checkSelectionAnchors","foundSelection","foundPoints","undefined","newSelection","previousMousePos","mousePosOffset","scaledPreviousMousePos","scaledMousePosOffset","point","genericPointGet","newPointValue","genericPointSet","createNewSelection","selectionBasedTag","newSelectionTag","tagIndex","currPoint","nextPoint","isWithin","offsetVectorByNumber","aOffset","cOffset","isWithinX","isWithinY","offset","canvas","rect","getBoundingClientRect","mousePosX","clientX","mousePosY","clientY","top","timestamp","startTimestamp","drawImage","drawRectangle","height","clientHeight","width","groupName","relativeA","offsetVectorByVector","relativeB","relativeC","relativeD","colorHex","strokeStyle","strokeRect","relHeight","relWidth","fillStyle","fillRect","relativeTopLeft","font","fillText","clearRect","highlight","setHighlight","onDrop","onChange","stopPropagation","files","dataTransfer","loopUpload","type","match","reader","FileReader","readAsDataURL","imageUID","initialTag","newImage","components","Carousel","SettingsColumn","EditorCanvas","ImageUpload","config","productionTip","render","$mount"],"mappings":"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","file":"js/app.ec96f166.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/image-tagger/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editor-canvas.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editor-canvas.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-upload.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-upload.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./carousel.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./carousel.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{attrs:{\"id\":\"container\"}},[_c('section',{attrs:{\"id\":\"home\"}},[_c('carousel',{attrs:{\"images\":_vm.images,\"selectedImage\":_vm.selectedImage},on:{\"image-selected\":_vm.selectImage}}),_c('div',{attrs:{\"id\":\"primary-area\"}},[_c('div',{attrs:{\"id\":\"editor-column\"}},[_c('editor-canvas',{attrs:{\"selectedImage\":_vm.selectedImage,\"selectedTag\":_vm.selectedTag}}),_c('image-upload',{on:{\"image-uploaded\":_vm.createImage}})],1),_c('settings-column',{attrs:{\"tags\":_vm.tags,\"selectedTag\":_vm.selectedTag,\"images\":_vm.images,\"selectedImage\":_vm.selectedImage},on:{\"tag-selected\":_vm.selectTag}})],1)],1),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"screen-size-alert\"}},[_c('p',[_vm._v(\"This screen size is not supported\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"carousel\"}},[_c('div',{staticClass:\"carousel-button-wrap carousel-left\"},[_c('button',{staticClass:\"carousel-button\",on:{\"click\":function($event){return _vm.prev()}}},[_c('i',{staticClass:\"fas fa-arrow-left fa-xs\"})])]),_c('div',{attrs:{\"id\":\"carousel-main\"}},[_c('div',{ref:\"carousel-main-inner\",attrs:{\"id\":\"carousel-main-inner\"}},_vm._l((_vm.images),function(image){return _c('button',{key:image.id,staticClass:\"carousel-image-button\",class:{ selected: _vm.selectedImage.id === image.id }},[_c('img',{attrs:{\"src\":image.encodedImage}}),_c('div',{staticClass:\"image-select\",on:{\"click\":function($event){return _vm.selectImage(image)}}}),_c('div',{staticClass:\"image-overlay\"},[_c('button',{staticClass:\"image-delete\",on:{\"click\":function($event){return _vm.deleteImage(image)}}},[_c('i',{staticClass:\"fas fa-trash fa-xs\"})]),_c('div',{staticClass:\"image-active-tags\"},_vm._l((image.selectionGroup),function(group){return _c('span',{key:group.linkedTag.id,staticClass:\"tag-id\"},[_vm._v(_vm._s(group.linkedTag.id))])}),0)])])}),0)]),_c('div',{staticClass:\"carousel-button-wrap carousel-right\"},[_c('button',{staticClass:\"carousel-button\",on:{\"click\":function($event){return _vm.next()}}},[_c('i',{staticClass:\"fas fa-arrow-right fa-xs\"})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Selection } from \"types/selection\";\r\nimport { Tag } from \"./tag\";\r\n\r\nexport class SelectionGroup {\r\n  public readonly linkedTag: Tag;\r\n  public selections = new Array<Selection>();\r\n\r\n  constructor(tag: Tag) {\r\n    this.linkedTag = tag;\r\n  }\r\n}\r\n\r\nexport class EditorImage {\r\n  public readonly id: number;\r\n  public readonly name: string;\r\n  public readonly encodedImage: string;\r\n  public readonly selectionGroup = new Array<SelectionGroup>();\r\n\r\n  constructor(id: number, name: string, encodedImage: string) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.encodedImage = encodedImage;\r\n  }\r\n}\r\n","import { Component, Vue, Prop } from \"vue-property-decorator\";\r\nimport { EditorImage, SelectionGroup } from \"types/image\";\r\n\r\n@Component\r\nexport default class Carousel extends Vue {\r\n  @Prop(Array) readonly images?: Array<EditorImage>;\r\n  @Prop(EditorImage) readonly selectedImage?: EditorImage;\r\n\r\n  public readonly imageWidth = 170 * 2;\r\n  public carousel?: HTMLCanvasElement;\r\n  public carouselOffset = 0;\r\n\r\n  mounted(): void {\r\n    this.carousel = this.$refs[\"carousel-main-inner\"] as HTMLCanvasElement;\r\n  }\r\n\r\n  selectImage(image: EditorImage): void {\r\n    this.$emit(\"image-selected\", image);\r\n  }\r\n\r\n  deleteImage(imageToDelete: EditorImage): void {\r\n    if (!this.images || !this.selectedImage) return;\r\n\r\n    // Remove tag from library\r\n    const imageDeleteIndex = this.images.findIndex(\r\n      image => image.id === imageToDelete.id\r\n    );\r\n\r\n    // If image to delete is selected, select the image before or after it\r\n    if (imageToDelete.id === this.selectedImage.id) {\r\n      if (this.images.length > 1) {\r\n        if (imageDeleteIndex > 0) {\r\n          this.selectImage(this.images[imageDeleteIndex - 1]);\r\n        } else {\r\n          this.selectImage(this.images[imageDeleteIndex + 1]);\r\n        }\r\n      } else {\r\n        this.selectImage(new EditorImage(-1, \"\", \"\"));\r\n      }\r\n    }\r\n\r\n    // Delete image by index\r\n    this.images.splice(imageDeleteIndex, 1);\r\n  }\r\n\r\n  prev(): void {\r\n    if (!this.carousel) return;\r\n\r\n    if (this.carouselOffset < 0) {\r\n      this.carouselOffset += this.imageWidth;\r\n      this.carousel.style.left = `${this.carouselOffset}px`;\r\n    }\r\n  }\r\n\r\n  next(): void {\r\n    if (!this.carousel) return;\r\n\r\n    const carouselParent = this.carousel.parentElement;\r\n    if (carouselParent) {\r\n      const carouselInnerWidth = this.carousel.clientWidth;\r\n      const carouselParentWidth = carouselParent.clientWidth;\r\n\r\n      if (\r\n        carouselInnerWidth > carouselParentWidth &&\r\n        carouselParentWidth - carouselInnerWidth < this.carouselOffset\r\n      ) {\r\n        this.carouselOffset -= this.imageWidth;\r\n        this.carousel.style.left = `${this.carouselOffset}px`;\r\n      }\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./carousel.ts?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./carousel.ts?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./carousel.vue?vue&type=template&id=2269dd88&\"\nimport script from \"./carousel.ts?vue&type=script&lang=js&\"\nexport * from \"./carousel.ts?vue&type=script&lang=js&\"\nimport style0 from \"./carousel.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"settings-column\"}},[_c('div',{attrs:{\"id\":\"tag-container\"}},[_c('div',{attrs:{\"id\":\"tag-header\"}},[_c('h2',{staticClass:\"settings-title\"},[_vm._v(\"Tags\")]),_c('form',{attrs:{\"id\":\"tag-create-form\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.createTag($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tagNameInput),expression:\"tagNameInput\"}],attrs:{\"placeholder\":\"Tag Name\"},domProps:{\"value\":(_vm.tagNameInput)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.tagNameInput=$event.target.value}}}),_vm._m(0)])]),_c('ul',{staticClass:\"tree-list\",attrs:{\"id\":\"tag-list\"}},_vm._l((_vm.tags),function(tag){return _c('li',{key:tag.id,staticClass:\"tag-list-item\"},[_c('div',{staticClass:\"tag-list-item-inner\",class:{ selected: _vm.selectedTag.id === tag.id }},[_c('button',{staticClass:\"tag-dropdown-button\",class:{ active: _vm.isBranchEnabled(tag) },on:{\"click\":function($event){return _vm.toggleBranch(tag)}}},[_c('i',{staticClass:\"fas fa-caret-right fa-xs\"})]),_c('div',{staticClass:\"tag-meta\",on:{\"click\":function($event){return _vm.selectTag(tag)}}},[_c('span',{staticClass:\"tag-id\"},[_vm._v(_vm._s(tag.id))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(tag.name),expression:\"tag.name\"}],staticClass:\"tag-name\",attrs:{\"type\":\"text\"},domProps:{\"value\":(tag.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(tag, \"name\", $event.target.value)}}})]),_c('button',{staticClass:\"tree-delete\",on:{\"click\":function($event){return _vm.deleteTag(tag)}}},[_c('i',{staticClass:\"fas fa-trash fa-xs\"})])]),_c('ul',{staticClass:\"selection-list tree-list\",class:{ active: _vm.isBranchEnabled(tag) }},_vm._l((_vm.selectionsOfTag(tag)),function(selection){return _c('li',{key:selection.id,staticClass:\"selection-list-item\",on:{\"mouseenter\":function($event){return _vm.highlightSelection(selection, true)},\"mouseleave\":function($event){return _vm.highlightSelection(selection, false)}}},[_c('span',{staticClass:\"selection-meta\"},[_vm._v(\" x: \"+_vm._s(selection.a.x)+\", y: \"+_vm._s(selection.a.y)+\" \")]),_c('button',{staticClass:\"tree-delete\",on:{\"click\":function($event){return _vm.deleteSelection(tag, selection)}}},[_c('i',{staticClass:\"fas fa-trash fa-xs\"})])])}),0)])}),0)]),_c('div',{attrs:{\"id\":\"export-container\"}},[_c('button',{staticClass:\"default-button\",attrs:{\"id\":\"download-button\"},on:{\"click\":function($event){return _vm.download()}}},[_c('i',{staticClass:\"fas fa-download fa-sm\"}),_c('span',[_vm._v(\"Download\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"fas fa-plus fa-xs\"})])}]\n\nexport { render, staticRenderFns }","import { EditorImage } from \"types/image\";\r\nimport Vector2 from \"types/vector2\";\r\n\r\nexport default class JsonHandler {\r\n  public output(images: Array<EditorImage>): void {\r\n    const output = new Array<object>();\r\n\r\n    // Loop Images\r\n    images.forEach(image => {\r\n      const imageOutput = { file: image.name, regions: Array<object>() };\r\n      // Loop Groups of Image\r\n      image.selectionGroup.forEach(group => {\r\n        // Loop Selections of Group\r\n        group.selections.forEach(selection => {\r\n          const topLeft: Vector2 = selection.findTopLeft();\r\n\r\n          // Push the region to the specific image regions array\r\n          imageOutput.regions.push({\r\n            rectangle: {\r\n              x: topLeft.x,\r\n              y: topLeft.y,\r\n              h: selection.absHeight,\r\n              w: selection.absWidth\r\n            },\r\n            object: group.linkedTag.name\r\n          });\r\n        });\r\n      });\r\n\r\n      // Push Image & Regions to Output\r\n      output.push(imageOutput);\r\n    });\r\n\r\n    this.generateDownload(JSON.stringify(output));\r\n  }\r\n\r\n  private generateDownload(output: string) {\r\n    const element = document.createElement(\"a\");\r\n    element.style.display = \"none\";\r\n\r\n    element.setAttribute(\r\n      \"href\",\r\n      \"data:text/plain;charset=utf-8,\" + encodeURIComponent(output)\r\n    );\r\n    element.setAttribute(\"download\", \"output.json\");\r\n\r\n    document.body.appendChild(element);\r\n\r\n    element.click();\r\n    element.remove();\r\n  }\r\n}\r\n","export class Tag {\r\n  public readonly id: number;\r\n  public name: string;\r\n\r\n  constructor(id: number, name: string) {\r\n    this.id = id;\r\n    this.name = name;\r\n  }\r\n}\r\n","import { Component, Vue, Prop } from \"vue-property-decorator\";\r\n\r\nimport JsonHandler from \"services/json-handler\";\r\nimport { Tag } from \"types/tag\";\r\nimport { EditorImage } from \"types/image\";\r\nimport { Selection } from \"types/selection\";\r\n\r\n@Component\r\nexport default class ImageUpload extends Vue {\r\n  @Prop(Array) readonly tags?: Array<Tag>;\r\n  @Prop(Tag) readonly selectedTag?: Tag;\r\n  @Prop(Array) readonly images?: Array<EditorImage>;\r\n  @Prop(EditorImage) readonly selectedImage?: EditorImage;\r\n\r\n  private readonly jsonHandler = new JsonHandler();\r\n\r\n  private tagUID = 1;\r\n  public tagNameInput = \"\";\r\n  public activeBranches = new Array<number>();\r\n\r\n  /**\r\n   * Add tag to tag array, doesn't allow for duplicates\r\n   */\r\n  createTag(): void {\r\n    if (!this.tagNameInput || !this.tags) return;\r\n\r\n    // check that tag doesn't already exist\r\n    if (\r\n      this.tags.find(\r\n        tag => this.tagNameInput.toLowerCase() === tag.name.toLowerCase()\r\n      )\r\n    ) {\r\n      // todo - show little tooltip.\r\n    } else {\r\n      const tag = new Tag(this.tagUID++, this.tagNameInput);\r\n      this.tags.push(tag);\r\n    }\r\n\r\n    this.tagNameInput = \"\";\r\n  }\r\n\r\n  selectTag(tagToSelect: Tag): void {\r\n    this.$emit(\"tag-selected\", tagToSelect);\r\n  }\r\n\r\n  /**\r\n   * Remove tag from tags array, removing selections related to that tag from each image\r\n   * @param tagToDelete\r\n   */\r\n  deleteTag(tagToDelete: Tag): void {\r\n    if (!this.tags || !this.images) return;\r\n\r\n    // Remove tag from tags array\r\n    const tagDeleteIndex = this.tags.findIndex(\r\n      tag => tag.id === tagToDelete.id\r\n    );\r\n    this.tags.splice(tagDeleteIndex, 1);\r\n\r\n    // Remove selection group linked to tag from all images\r\n    this.images.forEach(image => {\r\n      const groupDeleteIndex = image.selectionGroup.findIndex(\r\n        group => group.linkedTag.id === tagToDelete.id\r\n      );\r\n      image.selectionGroup.splice(groupDeleteIndex, 1);\r\n    });\r\n\r\n    // If selected tag is delete, delete it. Due to Vue Prop management, the tag needs to be replaced with a placeholder.\r\n    if (tagToDelete.id === this.selectedTag?.id) {\r\n      this.$emit(\"tag-selected\", new Tag(-1, \"\"));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Delete selection from specific image\r\n   * @param relatedTag\r\n   * @param selectionToDelete\r\n   */\r\n  deleteSelection(relatedTag: Tag, selectionToDelete: Selection) {\r\n    if (!this.selectedImage) return;\r\n\r\n    const relatedGroupIndex = this.selectedImage.selectionGroup.findIndex(\r\n      group => group.linkedTag.id === relatedTag.id\r\n    );\r\n    const relatedGroup = this.selectedImage.selectionGroup[relatedGroupIndex];\r\n\r\n    if (relatedGroup) {\r\n      const selectionDeleteIndex = relatedGroup.selections.findIndex(\r\n        selection => selection.id === selectionToDelete.id\r\n      );\r\n      relatedGroup.selections.splice(selectionDeleteIndex, 1);\r\n\r\n      // If the selection group is now empty, delete it.\r\n      if (relatedGroup.selections.length < 1) {\r\n        this.selectedImage.selectionGroup.splice(relatedGroupIndex, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggle branch of tree view\r\n   * @param tag\r\n   */\r\n  toggleBranch(tag: Tag): void {\r\n    const foundIndex = this.activeBranches.indexOf(tag.id);\r\n\r\n    if (foundIndex >= 0) {\r\n      this.activeBranches.splice(foundIndex, 1);\r\n    } else {\r\n      this.activeBranches.push(tag.id);\r\n    }\r\n  }\r\n\r\n  isBranchEnabled(tag: Tag): boolean {\r\n    return this.activeBranches.includes(tag.id);\r\n  }\r\n\r\n  selectionsOfTag(tag: Tag): Array<Selection> | undefined {\r\n    const foundGroup = this.selectedImage?.selectionGroup.find(\r\n      group => group.linkedTag.id === tag.id\r\n    );\r\n    return foundGroup?.selections;\r\n  }\r\n\r\n  highlightSelection(selection: Selection, isHighlighted: boolean): void {\r\n    selection.isHighlighted = isHighlighted;\r\n  }\r\n\r\n  download(): void {\r\n    if (!this.images) return;\r\n\r\n    this.jsonHandler.output(this.images);\r\n  }\r\n}\r\n","import Vector2 from \"types/vector2\";\r\n\r\nexport enum SelectionPoint {\r\n  a,\r\n  b,\r\n  c,\r\n  d\r\n}\r\n\r\nexport class Selection {\r\n  public id: number;\r\n  public isHighlighted = false;\r\n\r\n  private _a: Vector2;\r\n  private _b: Vector2;\r\n  private _c: Vector2;\r\n  private _d: Vector2;\r\n\r\n  get a(): Vector2 {\r\n    return this._a;\r\n  }\r\n\r\n  set a(pos: Vector2) {\r\n    this._a = pos;\r\n\r\n    this._b = new Vector2(this.c.x, pos.y);\r\n    this._d = new Vector2(pos.x, this.c.y);\r\n  }\r\n\r\n  get b(): Vector2 {\r\n    return this._b;\r\n  }\r\n\r\n  set b(pos: Vector2) {\r\n    this._b = pos;\r\n\r\n    this._a = new Vector2(this.d.x, pos.y);\r\n    this._c = new Vector2(pos.x, this.d.y);\r\n  }\r\n\r\n  get c(): Vector2 {\r\n    return this._c;\r\n  }\r\n\r\n  set c(pos: Vector2) {\r\n    this._c = pos;\r\n\r\n    this._b = new Vector2(pos.x, this.a.y);\r\n    this._d = new Vector2(this.a.x, pos.y);\r\n  }\r\n\r\n  get d(): Vector2 {\r\n    return this._d;\r\n  }\r\n\r\n  set d(pos: Vector2) {\r\n    this._d = pos;\r\n\r\n    this._a = new Vector2(pos.x, this.b.y);\r\n    this._c = new Vector2(this.b.x, pos.y);\r\n  }\r\n\r\n  get absHeight(): number {\r\n    return Math.abs(this.a.x - this.c.x);\r\n  }\r\n\r\n  get absWidth(): number {\r\n    return Math.abs(this.a.y - this.c.y);\r\n  }\r\n\r\n  get relHeight(): number {\r\n    return this.a.x > this.c.x ? -this.absHeight : this.absHeight;\r\n  }\r\n\r\n  get relWidth(): number {\r\n    return this.a.y > this.c.y ? -this.absWidth : this.absWidth;\r\n  }\r\n\r\n  constructor(id: number, pos: Vector2) {\r\n    this.id = id;\r\n    this._a = this._b = this._c = this._d = pos;\r\n  }\r\n\r\n  public findTopLeft(): Vector2 {\r\n    const arr = [this.a, this.b, this.c, this.d];\r\n    arr.sort((a: Vector2, b: Vector2) => (a.x + a.y < b.x + b.y ? -1 : 1));\r\n    return arr[0];\r\n  }\r\n\r\n  public genericPointGet(sp: SelectionPoint): Vector2 {\r\n    switch (sp as SelectionPoint) {\r\n    case SelectionPoint.a:\r\n      return this.a;\r\n    case SelectionPoint.b:\r\n      return this.b;\r\n    case SelectionPoint.c:\r\n      return this.c;\r\n    case SelectionPoint.d:\r\n      return this.d;\r\n    }\r\n  }\r\n\r\n  public genericPointSet(sp: SelectionPoint, pos: Vector2): void {\r\n    switch (sp as SelectionPoint) {\r\n    case SelectionPoint.a:\r\n      this.a = pos;\r\n      break;\r\n    case SelectionPoint.b:\r\n      this.b = pos;\r\n      break;\r\n    case SelectionPoint.c:\r\n      this.c = pos;\r\n      break;\r\n    case SelectionPoint.d:\r\n      this.d = pos;\r\n      break;\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./settings-column.ts?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./settings-column.ts?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./settings-column.vue?vue&type=template&id=610a72c8&\"\nimport script from \"./settings-column.ts?vue&type=script&lang=js&\"\nexport * from \"./settings-column.ts?vue&type=script&lang=js&\"\nimport style0 from \"./settings-column.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"editor-canvas\"}},[_c('div',{attrs:{\"id\":\"editor-controls\"}},[_c('div',{attrs:{\"id\":\"zoom-control-group\"}},[_c('button',{on:{\"click\":function($event){return _vm.staticZoom(true)}}},[_c('i',{staticClass:\"fas fa-plus fa-xs\"})]),_c('button',{on:{\"click\":function($event){return _vm.staticZoom(false)}}},[_c('i',{staticClass:\"fas fa-minus fa-xs\"})])])]),_c('canvas',{ref:\"editor-canvas\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default class Vector2 {\r\n  public x: number;\r\n  public y: number;\r\n\r\n  constructor(x: number, y: number) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n}\r\n","import { Component, Vue, Prop, Watch } from \"vue-property-decorator\";\r\nimport { EditorImage, SelectionGroup } from \"types/image\";\r\nimport { Selection, SelectionPoint } from \"types/selection\";\r\nimport { Tag } from \"types/tag\";\r\nimport Vector2 from \"types/vector2\";\r\n\r\n@Component\r\nexport default class EditorCanvas extends Vue {\r\n  @Prop(EditorImage) readonly selectedImage?: EditorImage;\r\n  @Prop(Tag) readonly selectedTag?: Tag;\r\n\r\n  private readonly OFFSET_VALUE: number = 10;\r\n  private selectionUID = 0;\r\n\r\n  private previousMousePos?: Vector2;\r\n  private scale = 1;\r\n  private imageOffsetValue = new Vector2(0, 0);\r\n\r\n  public editorCanvas?: HTMLCanvasElement;\r\n  public editorContext?: CanvasRenderingContext2D;\r\n  public canvasImage?: HTMLImageElement;\r\n\r\n  public startTimestamp?: number;\r\n  public newSelection?: Selection;\r\n  public activeSelection?: Selection;\r\n  public activePoints: Array<SelectionPoint> = new Array<SelectionPoint>();\r\n\r\n  private isMouseDown = false;\r\n  private isPanEnabled = false;\r\n\r\n  mounted(): void {\r\n    this.editorCanvas = this.$refs[\"editor-canvas\"] as HTMLCanvasElement;\r\n    this.editorContext = this.editorCanvas.getContext(\r\n      \"2d\"\r\n    ) as CanvasRenderingContext2D;\r\n\r\n    this.resizeCanvas();\r\n\r\n    // Begin Animation\r\n    window.requestAnimationFrame(this.animationStep);\r\n\r\n    // Event Listeners\r\n    // - Mouse Events\r\n    this.editorCanvas.addEventListener(\"mousedown\", event => {\r\n      this.isMouseDown = true;\r\n      event.preventDefault();\r\n      // Primary Mouse\r\n      if (event.buttons === 1) { \r\n        this.mouseDown(event);\r\n        return;\r\n      }\r\n\r\n      // Middle Mouse\r\n      if (event.buttons === 4) {\r\n        this.enablePan();\r\n        return;\r\n      }\r\n    });\r\n\r\n    // - Resize Event\r\n    window.addEventListener(\"resize\", this.resizeCanvas);\r\n\r\n    this.editorCanvas.addEventListener(\"mouseup\", event => {\r\n      this.isMouseDown = false;\r\n      this.mouseUp(event);\r\n      this.disablePan();\r\n    });\r\n\r\n    this.editorCanvas.addEventListener(\"mousemove\", event => {\r\n      this.mouseMove(event);\r\n    });\r\n\r\n    this.editorCanvas.addEventListener(\"wheel\", event => {\r\n      this.mouseWheel(event);\r\n    });\r\n  \r\n    // - Leave Page Event\r\n    this.editorCanvas.addEventListener(\"beforeunload\", event => {\r\n      this.disablePan();\r\n    });\r\n\r\n    // - Key Down Event\r\n    this.editorCanvas.addEventListener(\"keydown\", event => {\r\n      if (event.key === \"Escape\") {\r\n        this.endSelection();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Enable Panning\r\n   */\r\n  enablePan(): void {\r\n    this.isPanEnabled = true;\r\n\r\n    if (this.editorCanvas && !this.activeSelection) {\r\n      this.editorCanvas.style.cursor = \"move\";\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Disable Panning\r\n   */\r\n  disablePan(): void {\r\n    this.isPanEnabled = false;\r\n\r\n    if (this.editorCanvas && !this.activeSelection) {\r\n      this.editorCanvas.style.cursor = \"default\";\r\n    }\r\n  }\r\n\r\n  @Watch(\"selectedImage\")\r\n  onSelectedImageChanged(image: EditorImage) {\r\n    if (!this.editorContext) return;\r\n\r\n    if (image) {\r\n      this.canvasImage = new Image();\r\n      this.canvasImage.src = image.encodedImage;\r\n\r\n      this.canvasImage.onload = () => {\r\n        this.scaleImage();\r\n        this.centreImage();\r\n      };\r\n    } else {\r\n      this.clearCanvas();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handles the mouse wheel event and zoom logic\r\n   * @param e\r\n   */\r\n  mouseWheel(e: WheelEvent): void {\r\n    if (!this.editorCanvas) return;\r\n\r\n    e.preventDefault();\r\n\r\n    const mousePos = this.getRelativeMousePos(this.editorCanvas, e);\r\n\r\n    const val = this.scale + e.deltaY * -0.02;\r\n    const previousScale = this.scale;\r\n\r\n    // Scale within restrictions\r\n    this.scale = Math.min(Math.max(0.125, val), 4);\r\n\r\n    // Calculate difference of mouse position relative to image and scale\r\n    const InsetPos = new Vector2(\r\n      mousePos.x - this.imageOffsetValue.x,\r\n      mousePos.y - this.imageOffsetValue.y\r\n    );\r\n    const offsetScaleDifference = new Vector2(\r\n      InsetPos.x / previousScale - InsetPos.x / this.scale,\r\n      InsetPos.y / previousScale - InsetPos.y / this.scale\r\n    );\r\n\r\n    // Update offset position by the difference of previous inset position and current inset position with scales applied.\r\n    this.imageOffsetValue.x -= offsetScaleDifference.x * this.scale;\r\n    this.imageOffsetValue.y -= offsetScaleDifference.y * this.scale;\r\n  }\r\n\r\n  staticZoom(zoomIn: boolean): void {\r\n    const newScale = this.scale += zoomIn ? 0.2 : -0.2;\r\n    this.scale = Math.min(Math.max(0.125, newScale), 4);\r\n\r\n    this.centreImage();\r\n  }\r\n\r\n  /**\r\n   * Handles whether a selection should be created or edited, or whether to pan.\r\n   * @param e\r\n   */\r\n  mouseDown(e: MouseEvent): void {\r\n    if (this.isPanEnabled) return;\r\n    if (\r\n      !this.editorContext ||\r\n      !this.editorCanvas ||\r\n      !this.selectedImage?.encodedImage ||\r\n      !this.selectedTag ||\r\n      this.selectedTag.name === \"\"\r\n    )\r\n      return;\r\n\r\n    const mousePos: Vector2 = this.getRelativeMousePos(this.editorCanvas, e);\r\n    const scaledMousePos = new Vector2(\r\n      Math.round((mousePos.x - this.imageOffsetValue.x) / this.scale),\r\n      Math.round((mousePos.y - this.imageOffsetValue.y) / this.scale)\r\n    );\r\n    const selectionCheck = this.checkSelectionAnchors(scaledMousePos);\r\n\r\n    if (selectionCheck) {\r\n      this.activeSelection = selectionCheck.foundSelection;\r\n      this.activePoints = selectionCheck.foundPoints;\r\n    }\r\n\r\n    // Create New Selection\r\n    if (this.activeSelection === undefined && this.activePoints.length === 0) {\r\n      this.activeSelection = this.newSelection = new Selection(\r\n        this.selectionUID++,\r\n        scaledMousePos\r\n      );\r\n      this.activePoints.push(SelectionPoint.c);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handles point updating of selections and panning,\r\n   * @param e\r\n   */\r\n  mouseMove(e: MouseEvent): void {\r\n    if (!this.editorContext || !this.editorCanvas) return;\r\n\r\n    const mousePos = this.getRelativeMousePos(this.editorCanvas, e);\r\n    if (!this.previousMousePos) this.previousMousePos = mousePos;\r\n\r\n    const mousePosOffset = new Vector2(\r\n      mousePos.x - this.previousMousePos.x,\r\n      mousePos.y - this.previousMousePos.y\r\n    );\r\n\r\n    if (this.isPanEnabled && !this.activeSelection) {\r\n      // Pan Mode\r\n      if (this.isMouseDown) {\r\n        this.imageOffsetValue.x += mousePosOffset.x;\r\n        this.imageOffsetValue.y += mousePosOffset.y;\r\n      }\r\n    } else {\r\n      // Selection Handling\r\n      const scaledMousePos = new Vector2(\r\n        Math.round((mousePos.x - this.imageOffsetValue.x) / this.scale),\r\n        Math.round((mousePos.y - this.imageOffsetValue.y) / this.scale)\r\n      );\r\n      if (!this.activeSelection) {\r\n        this.checkSelectionAnchors(scaledMousePos);\r\n      } else {\r\n        const scaledPreviousMousePos = new Vector2(\r\n          Math.round(\r\n            (this.previousMousePos.x - this.imageOffsetValue.x) / this.scale\r\n          ),\r\n          Math.round(\r\n            (this.previousMousePos.y - this.imageOffsetValue.y) / this.scale\r\n          )\r\n        );\r\n        const scaledMousePosOffset = new Vector2(\r\n          scaledMousePos.x - scaledPreviousMousePos.x,\r\n          scaledMousePos.y - scaledPreviousMousePos.y\r\n        );\r\n        if (scaledPreviousMousePos && this.activePoints) {\r\n          for (let i = 0, j = 3; i <= j; i++) {\r\n            const point = this.activeSelection.genericPointGet(i);\r\n            const newPointValue = new Vector2(\r\n              point.x + scaledMousePosOffset.x,\r\n              point.y + scaledMousePosOffset.y\r\n            );\r\n\r\n            if (this.activePoints.includes(i)) {\r\n              this.activeSelection.genericPointSet(i, newPointValue);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    this.previousMousePos = mousePos;\r\n  }\r\n\r\n  /**\r\n   * Finalises creating a selection or ending panning\r\n   * @param e\r\n   */\r\n  mouseUp(e: MouseEvent): void {\r\n    if (this.newSelection && this.activeSelection) {\r\n      this.createNewSelection(this.newSelection);\r\n    }\r\n\r\n    this.endSelection();\r\n  }\r\n\r\n  /**\r\n   * Clears active selections\r\n   */\r\n  endSelection(): void {\r\n    if (this.activeSelection) {\r\n      this.activePoints = new Array<SelectionPoint>();\r\n    }\r\n\r\n    this.previousMousePos = this.activeSelection = this.newSelection = undefined;\r\n  }\r\n\r\n  /**\r\n   * Add selection to selected images tag array by specific tag name\r\n   * @param selection\r\n   */\r\n  createNewSelection(selection: Selection) {\r\n    if (!this.selectedImage || !this.selectedTag) return;\r\n\r\n    let selectionBasedTag = this.selectedImage.selectionGroup.find(\r\n      group => group.linkedTag.id === this.selectedTag?.id\r\n    );\r\n\r\n    if (!selectionBasedTag) {\r\n      const newSelectionTag = new SelectionGroup(this.selectedTag);\r\n      const tagIndex = this.selectedImage.selectionGroup.push(newSelectionTag);\r\n      selectionBasedTag = this.selectedImage.selectionGroup[tagIndex - 1];\r\n    }\r\n\r\n    selectionBasedTag.selections.push(selection);\r\n  }\r\n\r\n  /**\r\n   * Check mouse position against each selection and their anchors, returning matching points and selections\r\n   * @param mousePos\r\n   */\r\n  checkSelectionAnchors(\r\n    mousePos: Vector2\r\n  ): { foundPoints: Array<SelectionPoint>; foundSelection: Selection } | void {\r\n    if (!this.editorContext || !this.editorCanvas || !this.selectedImage)\r\n      return;\r\n\r\n    const foundPoints = new Array<SelectionPoint>();\r\n    let foundSelection: Selection | undefined;\r\n\r\n    for (const tag of this.selectedImage.selectionGroup) {\r\n      for (const selection of tag.selections) {\r\n        for (let i = 0, j = 3; i <= j; i++) {\r\n          const currPoint = selection.genericPointGet(i);\r\n          const nextPoint = selection.genericPointGet((i + 1) % 4);\r\n\r\n          // Check mouse is withing point\r\n          if (\r\n            this.isWithin(\r\n              mousePos,\r\n              this.offsetVectorByNumber(currPoint, -this.OFFSET_VALUE),\r\n              this.offsetVectorByNumber(currPoint, this.OFFSET_VALUE)\r\n            )\r\n          ) {\r\n            foundPoints.push(i);\r\n\r\n            // Set cursor style - accounts for when points are flipped\r\n            if (\r\n              selection.a.x < selection.c.x ===\r\n              selection.a.y < selection.c.y\r\n            ) {\r\n              this.editorCanvas.style.cursor =\r\n                currPoint.x === nextPoint.x ? \"nesw-resize\" : \"nwse-resize\";\r\n            } else {\r\n              this.editorCanvas.style.cursor =\r\n                currPoint.x === nextPoint.x ? \"nwse-resize\" : \"nesw-resize\";\r\n            }\r\n\r\n            // Break out of loop if point is found.\r\n            break;\r\n          }\r\n        }\r\n\r\n        // Check Whole Selection\r\n        let aOffset: Vector2;\r\n        let cOffset: Vector2;\r\n        // Offset 'a', 'c' values depending on their relative position to each other.\r\n        if (selection.a.x < selection.c.x && selection.a.y < selection.c.y) {\r\n          aOffset = this.offsetVectorByNumber(\r\n            selection.a,\r\n            this.OFFSET_VALUE / 2\r\n          );\r\n          cOffset = this.offsetVectorByNumber(\r\n            selection.c,\r\n            -this.OFFSET_VALUE / 2\r\n          );\r\n        } else {\r\n          aOffset = this.offsetVectorByNumber(\r\n            selection.a,\r\n            -this.OFFSET_VALUE / 2\r\n          );\r\n          cOffset = this.offsetVectorByNumber(\r\n            selection.c,\r\n            this.OFFSET_VALUE / 2\r\n          );\r\n        }\r\n\r\n        if (\r\n          (foundPoints.length === 0, this.isWithin(mousePos, aOffset, cOffset))\r\n        ) {\r\n          foundPoints.push(SelectionPoint.a, SelectionPoint.c);\r\n          this.editorCanvas.style.cursor = \"move\";\r\n        }\r\n\r\n        if (foundPoints.length > 0) {\r\n          foundSelection = selection;\r\n          break;\r\n        }\r\n      }\r\n      if (foundSelection) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (foundPoints.length > 0 && foundSelection) {\r\n      return { foundPoints: foundPoints, foundSelection: foundSelection };\r\n    } else {\r\n      this.editorCanvas.style.cursor = \"crosshair\";\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if point a is within point b and c\r\n   * @param a\r\n   * @param b\r\n   * @param c\r\n   */\r\n  isWithin(a: Vector2, b: Vector2, c: Vector2): boolean {\r\n    const isWithinX = (a.x < b.x && a.x > c.x) || (a.x > b.x && a.x < c.x);\r\n    const isWithinY = (a.y < b.y && a.y > c.y) || (a.y > b.y && a.y < c.y);\r\n\r\n    return isWithinX && isWithinY;\r\n  }\r\n\r\n  offsetVectorByNumber(pos: Vector2, offset: number): Vector2 {\r\n    return new Vector2(pos.x + offset, pos.y + offset);\r\n  }\r\n\r\n  offsetVectorByVector(pos: Vector2, offset: Vector2): Vector2 {\r\n    return new Vector2(pos.x + offset.x, pos.y + offset.y);\r\n  }\r\n\r\n  /**\r\n   * Returns Mouse Position Vector2 relative to the canvasImage's top left point position.\r\n   * @param canvas\r\n   * @param e\r\n   */\r\n  getRelativeMousePos(canvas: HTMLCanvasElement, e: MouseEvent): Vector2 {\r\n    // https://stackoverflow.com/questions/17130395/real-mouse-position-in-canvas - relative mouse position\r\n\r\n    const rect = canvas.getBoundingClientRect();\r\n    const mousePosX = e.clientX - rect.left;\r\n    const mousePosY = e.clientY - rect.top;\r\n\r\n    return new Vector2(mousePosX, mousePosY);\r\n  }\r\n\r\n  /**\r\n   * Clear then draw the selection image and it's selections on the canvas\r\n   * @param timestamp\r\n   */\r\n  animationStep(timestamp: number): void {\r\n    if (this.startTimestamp === undefined) {\r\n      this.startTimestamp = timestamp;\r\n    }\r\n\r\n    // Draw canvas\r\n    if (this.editorCanvas && this.editorContext && this.selectedImage) {\r\n      this.clearCanvas();\r\n\r\n      // Draw image\r\n      this.drawImage();\r\n\r\n      // Draw new selection rectangle\r\n      if (this.newSelection && this.selectedTag) {\r\n        this.drawRectangle(this.newSelection, this.selectedTag.name);\r\n      }\r\n\r\n      // Draw selected image's selection rectangles\r\n      for (const group of this.selectedImage.selectionGroup) {\r\n        for (const selection of group.selections) {\r\n          this.drawRectangle(selection, group.linkedTag.name);\r\n        }\r\n      }\r\n    }\r\n\r\n    window.requestAnimationFrame(this.animationStep);\r\n  }\r\n\r\n  /**\r\n   * Resize the canvas based on the height and width set by CSS\r\n   */\r\n  resizeCanvas(): void {\r\n    if (!this.editorCanvas?.parentElement) return;\r\n\r\n    this.editorCanvas.height = this.editorCanvas.parentElement.clientHeight;\r\n    this.editorCanvas.width = this.editorCanvas.parentElement.clientWidth;\r\n  }\r\n\r\n  /**\r\n   * Scales image on canvas\r\n   */\r\n  scaleImage(): void {\r\n    if (!this.canvasImage || !this.editorCanvas) return;\r\n\r\n    // Scale image to fit canvas\r\n    if (this.canvasImage.width > this.canvasImage.height) {\r\n      this.scale =\r\n        this.canvasImage.height > this.editorCanvas.height\r\n          ? this.editorCanvas.height / this.canvasImage.height\r\n          : 1;\r\n    } else {\r\n      this.scale =\r\n        this.canvasImage.width > this.editorCanvas.width\r\n          ? this.editorCanvas.width / this.canvasImage.width\r\n          : 1;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Centres image on canvas\r\n   */\r\n  centreImage(): void {\r\n    if (!this.canvasImage || !this.editorCanvas) return;\r\n\r\n    this.imageOffsetValue.x =\r\n      this.editorCanvas.width / 2 - (this.canvasImage.width * this.scale) / 2;\r\n    this.imageOffsetValue.y =\r\n      this.editorCanvas.height / 2 - (this.canvasImage.height * this.scale) / 2;\r\n  }\r\n\r\n  /**\r\n   * Handles drawing the canvasImage, taking into account scale and offset\r\n   */\r\n  drawImage(): void {\r\n    if (!this.editorContext || !this.editorCanvas || !this.canvasImage) return;\r\n\r\n    this.editorContext.drawImage(\r\n      this.canvasImage,\r\n      this.imageOffsetValue.x,\r\n      this.imageOffsetValue.y,\r\n      this.canvasImage.width * this.scale,\r\n      this.canvasImage.height * this.scale\r\n    );\r\n  }\r\n\r\n  drawRectangle(selection: Selection, groupName: string): void {\r\n    if (!this.editorContext || !this.editorCanvas) return;\r\n\r\n    const relativeA = this.offsetVectorByVector(\r\n      new Vector2(selection.a.x * this.scale, selection.a.y * this.scale),\r\n      this.imageOffsetValue\r\n    );\r\n    const relativeB = this.offsetVectorByVector(\r\n      new Vector2(selection.b.x * this.scale, selection.b.y * this.scale),\r\n      this.imageOffsetValue\r\n    );\r\n    const relativeC = this.offsetVectorByVector(\r\n      new Vector2(selection.c.x * this.scale, selection.c.y * this.scale),\r\n      this.imageOffsetValue\r\n    );\r\n    const relativeD = this.offsetVectorByVector(\r\n      new Vector2(selection.d.x * this.scale, selection.d.y * this.scale),\r\n      this.imageOffsetValue\r\n    );\r\n\r\n    const colorHex = selection.isHighlighted ? \"#0000FF\" : \"#FF0000\";\r\n\r\n    // Animate/Draw Here\r\n    // Stroke\r\n    this.editorContext.strokeStyle = colorHex;\r\n    this.editorContext.strokeRect(\r\n      relativeA.x,\r\n      relativeA.y,\r\n      selection.relHeight * this.scale,\r\n      selection.relWidth * this.scale\r\n    );\r\n\r\n    // Anchors\r\n    this.editorContext.fillStyle = colorHex;\r\n    this.editorContext.fillRect(relativeA.x - 3, relativeA.y - 3, 6, 6);\r\n    this.editorContext.fillRect(relativeB.x - 3, relativeB.y - 3, 6, 6);\r\n    this.editorContext.fillRect(relativeC.x - 3, relativeC.y - 3, 6, 6);\r\n    this.editorContext.fillRect(relativeD.x - 3, relativeD.y - 3, 6, 6);\r\n\r\n    // Text\r\n    const topLeft = selection.findTopLeft();\r\n    const relativeTopLeft = this.offsetVectorByVector(\r\n      new Vector2(topLeft.x * this.scale, topLeft.y * this.scale),\r\n      this.imageOffsetValue\r\n    );\r\n\r\n    this.editorContext.font = \"16px roboto\";\r\n    this.editorContext.fillText(\r\n      groupName,\r\n      relativeTopLeft.x + 5,\r\n      relativeTopLeft.y + 19\r\n    );\r\n  }\r\n\r\n  clearCanvas(): void {\r\n    if (!this.editorContext || !this.editorCanvas) return;\r\n\r\n    this.editorContext.clearRect(\r\n      0,\r\n      0,\r\n      this.editorCanvas.width,\r\n      this.editorCanvas.height\r\n    );\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./editor-canvas.ts?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./editor-canvas.ts?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editor-canvas.vue?vue&type=template&id=eac1bf2a&\"\nimport script from \"./editor-canvas.ts?vue&type=script&lang=js&\"\nexport * from \"./editor-canvas.ts?vue&type=script&lang=js&\"\nimport style0 from \"./editor-canvas.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"image-upload\"}},[_c('div',{ref:\"image-upload\",class:{ highlight: _vm.isHighlighted },attrs:{\"id\":\"image-upload-inner\"},on:{\"dragover\":[function($event){$event.preventDefault();},function($event){return _vm.setHighlight(true)}],\"dragleave\":function($event){return _vm.setHighlight(false)},\"drop\":_vm.onDrop}},[_c('form',{attrs:{\"id\":\"upload-form\"}},[_c('label',{staticClass:\"default-button\",attrs:{\"id\":\"upload-label\",\"for\":\"upload-input\"}},[_vm._v(\"Upload Images\")]),_c('input',{attrs:{\"id\":\"upload-input\",\"type\":\"file\",\"multiple\":\"\",\"accept\":\"image/*\"},on:{\"change\":_vm.onChange}})]),_c('p',{attrs:{\"id\":\"secondary-text\"}},[_vm._v(\"Or drag images here\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Component, Vue } from \"vue-property-decorator\";\r\n\r\n@Component\r\nexport default class ImageUpload extends Vue {\r\n  public isHighlighted = false;\r\n\r\n  // Image Upload\r\n  setHighlight(value: boolean): void {\r\n    this.isHighlighted = value;\r\n  }\r\n\r\n  onDrop(e: DragEvent): void {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\r\n    this.setHighlight(false);\r\n    const files = e.dataTransfer?.files;\r\n\r\n    if (files) {\r\n      this.loopUpload(files);\r\n    }\r\n  }\r\n\r\n  onChange(e: any): void {\r\n    const files = e.target?.files;\r\n\r\n    if (files) {\r\n      this.loopUpload(files);\r\n    }\r\n  }\r\n\r\n  loopUpload(files: FileList): void {\r\n    if (files && files.length > 0) {\r\n      for (const file of files) {\r\n        this.createImage(file);\r\n      }\r\n    }\r\n  }\r\n\r\n  createImage(file: File): void {\r\n    if (!file.type.match(\"image/jpeg\") && !file.type.match(\"image/png\")) {\r\n      // todo - toaster alert that some of the images uploaded are invalid.\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n\r\n    reader.onload = e => {\r\n      if (e.target && e.target.result && typeof e.target.result === \"string\") {\r\n        this.$emit(\"image-uploaded\", file.name, e.target.result);\r\n      }\r\n    };\r\n\r\n    reader.readAsDataURL(file);\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./image-upload.ts?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./image-upload.ts?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./image-upload.vue?vue&type=template&id=5b848994&\"\nimport script from \"./image-upload.ts?vue&type=script&lang=js&\"\nexport * from \"./image-upload.ts?vue&type=script&lang=js&\"\nimport style0 from \"./image-upload.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Component, Vue } from \"vue-property-decorator\";\r\n\r\nimport Carousel from \"components/carousel/carousel.vue\";\r\nimport SettingsColumn from \"components/settings-column/settings-column.vue\";\r\nimport EditorCanvas from \"components/editor-canvas/editor-canvas.vue\";\r\nimport ImageUpload from \"components/image-upload/image-upload.vue\";\r\n\r\nimport { EditorImage } from \"types/image\";\r\nimport { Tag } from \"types/tag\";\r\n\r\n@Component({\r\n  components: {\r\n    Carousel,\r\n    SettingsColumn,\r\n    EditorCanvas,\r\n    ImageUpload\r\n  }\r\n})\r\nexport default class Home extends Vue {\r\n  public readonly images = new Array<EditorImage>();\r\n  public selectedImage: EditorImage = new EditorImage(-1, \"\", \"\");\r\n  public readonly tags: Array<Tag> = new Array<Tag>();\r\n  public selectedTag: Tag = new Tag(-1, \"\");\r\n\r\n  private imageUID = 0;\r\n\r\n  mounted(): void {\r\n    const initialTag = new Tag(0, \"Untitled\");\r\n    this.tags.push(initialTag);\r\n    this.selectedTag = initialTag;\r\n  }\r\n\r\n  createImage(name: string, encodedImage: string) {\r\n    // Check that image doesn't already exist in the library\r\n    if (this.images.find(image => image.encodedImage === encodedImage)) return;\r\n\r\n    const newImage = new EditorImage(this.imageUID++, name, encodedImage);\r\n    this.images.push(newImage);\r\n\r\n    // replace the placeholder featured image with new image\r\n    if (this.selectedImage.encodedImage === \"\") {\r\n      this.selectImage(newImage);\r\n    }\r\n  }\r\n\r\n  selectTag(tag: Tag) {\r\n    this.selectedTag = tag;\r\n  }\r\n\r\n  selectImage(image: EditorImage) {\r\n    this.selectedImage = image;\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./home.ts?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./home.ts?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./home.vue?vue&type=template&id=1de9441e&\"\nimport script from \"./home.ts?vue&type=script&lang=js&\"\nexport * from \"./home.ts?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\n// Global Styles\nimport \"normalize.css\";\n// View\nimport Home from \"views/home/home.vue\";\n\nVue.config.productionTip = false;\n\nnew Vue({\n  render: h => h(Home)\n}).$mount(\"#app\");\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settings-column.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settings-column.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}